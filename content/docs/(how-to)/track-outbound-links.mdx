---
title: 追踪外部链接
---

当用户点击指向外部网站的链接时，通常不会捕获此事件，因为用户离开了 Umami 所运行的网站。然而，使用 [事件](/docs/track-events) 功能，你可以追踪这种行为。

要追踪外部链接，你需要在包含外部链接的锚标签上添加数据属性。当标签被点击时，就会触发事件。在此示例中，我们发送了一个名为 `outbound-link-click` 的事件，`url` 值设置为外部 URL。

```html
<a href="https://www.external-website.com"
  data-umami-event="outbound-link-click"
  data-umami-event-url="https://www.external-website.com"
>
  外部链接
</a>
```

如果你不想手动更新所有锚标签，可以使用以下脚本自动为所有外部链接标签添加事件属性。你可以将如下脚本放置在 HTML body 的底部。

```html
<script type="text/javascript">
  (() => {
    const name = 'outbound-link-click';
    document.querySelectorAll('a').forEach(a => {
      if (a.host !== window.location.host && !a.getAttribute('data-umami-event')) {
        a.setAttribute('data-umami-event', name);
        a.setAttribute('data-umami-event-url', a.href);
      }
    });
  })();
</script>
```