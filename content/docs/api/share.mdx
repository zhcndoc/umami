---
title: 分享
---

分享页面管理相关操作。

**端点**

```text
POST /api/share
GET /api/share/id/:shareId
POST /api/share/id/:shareId
DELETE /api/share/id/:shareId
GET api/websites/:websiteId/shares
POST api/websites/:websiteId/shares
```

---

## POST /api/share

创建一个分享页面。

**参数**

- `entityId`: (string) 需要添加的实体 ID（websiteId、pixelId、linkId 等）。
- `shareType`: (number) (`website: 1` | `link:2` | `pixel: 3`)
- `name`: (string) 分享页面名称。
- `slug`: (string) 分享页面的 slug。
- `parameters`: (object) 分享页面的参数。

**请求体**

```json
{
	"entityId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"shareType": 1,
	"name": "My Share Page",
	"slug": "abc123defg",
	"parameters": { "overview": true, "events": true}
}
```

**示例响应**

```json
{
	"id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"entityId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"name": "My Share Page",
	"shareType": 1,
	"slug": "abc123defg",
	"parameters": {
		"events": true,
		"overview": true
	},
	"createdAt": "2026-01-30T06:03:51.718Z",
	"updatedAt": "2026-01-30T06:03:51.718Z"
}
```

---

## GET /api/share/id/:shareId

根据 ID 获取分享页面。

**示例响应**

```json
{
	"id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"entityId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"name": "My Share Page",
	"shareType": 1,
	"slug": "abc123defg",
	"parameters": {
		"events": true,
		"overview": true
	},
	"createdAt": "2026-01-30T06:03:51.718Z",
	"updatedAt": "2026-01-30T06:06:32.197Z"
}
```

---

## POST /api/share/id/:shareId

更新分享页面。

**参数**

- `name`: (string) 分享页面名称。
- `slug`: (string) 分享页面的 slug。
- `parameters`: (object) 分享页面的参数。

**请求体**

```json
{
	"name": "My Updated Share Page",
	"slug": "abc123defg",
	"parameters": { "overview": true, "events": true, "funnel": true, "utm": true}
}
```

**示例响应**

```json
{
	"id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"entityId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"name": "My Updated Share Page",
	"shareType": 1,
	"slug": "abc123defg",
	"parameters": {
		"utm": true,
		"events": true,
		"funnel": true,
		"overview": true
	},
	"createdAt": "2026-01-30T06:03:51.718Z",
	"updatedAt": "2026-01-30T06:09:05.640Z"
}
```

---

## DELETE /api/share/id/:shareId

删除分享页面。

**示例响应**

```json
{
  "ok": true
}
```

---

## GET api/websites/:websiteId/shares

获取属于某个网站的所有分享页面。

**示例响应**

```json
{
	"data": [
		{
			"id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
			"entityId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
			"name": "Umami Live Demo",
			"shareType": 1,
			"slug": "xxxxxxxxxxxxxx",
			"parameters": {
				"utm": false,
				"goals": true,
				"events": true,
				"compare": false,
				"funnels": true,
				"revenue": false,
				"journeys": false,
				"overview": true,
				"realtime": false,
				"sessions": true,
				"breakdown": false,
				"retention": false,
				"attribution": false
			},
			"createdAt": "2026-01-29T18:51:40.489Z",
			"updatedAt": "2026-01-29T18:51:40.489Z"
		}
	],
	"count": 1,
	"page": 1,
	"pageSize": 20
}
```

---

## POST api/websites/:websiteId/shares

创建属于某个网站的分享页面。

**参数**

- `name`: (string) 分享页面名称。
- `parameters`: (object) 分享页面的参数。

**请求体**

```json
{
	"name": "My Websites Share Page",
	"parameters": { "utm": true, "goals": true, "events": true }
}
```

**示例响应**

```json
{
	"id": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"entityId": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx",
	"name": "My Websites Share Page",
	"shareType": 1,
	"slug": "xxxxxxxxx",
	"parameters": {
		"utm": false,
		"goals": true,
		"events": true
	},
	"createdAt": "2026-01-30T06:03:51.718Z",
	"updatedAt": "2026-01-30T06:09:05.640Z"
}
```