---
title: 跟踪器配置
---

Umami 跟踪器提供了多个属性，允许你配置其行为。

### data-host-url

默认情况下，Umami 会将数据发送到脚本所在的位置。你可以覆盖此设置，将数据发送到其他位置。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-host-url="http://stats.mywebsite.com"
></script>
```

### data-auto-track

默认情况下，Umami 会自动跟踪所有页面浏览和事件。你可以禁用此行为，并使用 [跟踪器函数](/docs/tracker-functions) 自行跟踪事件。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-auto-track="false"
></script>
```

### data-domains

如果你希望跟踪器只在特定域名上运行，可以将这些域名添加到跟踪脚本中。域名列表使用逗号分隔。每个值会匹配 `window.location.hostname`，因此请确认你的网站是否使用 `www`。<br/>
这在你处于预发布/开发环境时非常有用。<br/>

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-domains="mywebsite.com,www.mywebsite.com"
></script>
```

### data-tag

如果你想让跟踪器将事件归类到特定标签下。仪表盘中可以根据标签筛选事件。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-tag="umami-eu"
></script>
```

### data-exclude-search

如果你不想收集 URL 中的搜索参数。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-exclude-search="true"
></script>
```

### data-exclude-hash

如果你不想收集 URL 中的哈希值。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-exclude-hash="true"
></script>
```

### data-do-not-track

尊重用户的浏览器 [禁止追踪](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/doNotTrack) 设置。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-do-not-track="true"
></script>
```

### data-before-send

允许你指定一个函数，在数据发送之前被调用。  
你可以检查并修改数据负载，或者完全取消发送。  
该函数将接收两个参数，type 和 payload。  
如果继续发送，返回一个数据负载对象。  
如果取消发送，则返回假值。

```javascript
function beforeSendHandler(type, payload) {
  if (checkPayload(payload)) {
    return payload;
  }
  return false;
}
```

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-before-send="beforeSendHandler"
></script>
```