---
title: 在 Neon Postgres 上运行
---

[Neon](https://neon.tech/) 是一个全托管的无服务器 Postgres 服务。

## 设置

1. 在 Neon 上创建一个项目，指定名称，选择一个靠近你将托管 Umami 项目的地区。
   - 你也可以使用 Neon CLI 创建项目：`npx neonctl projects create`。连接字符串会打印在控制台上。
2. 获取启用连接池的数据库连接字符串。它应类似于：`postgres://user:passwd@endpoint-pooler.region.aws.neon.build/neondb`。
   - 你也可以使用 Neon CLI 获取连接字符串：`npx neonctl connection-string --project-id <project-id> --pooled`。
3. **重要：** 在刚刚复制的连接字符串末尾添加 `?pgbouncer=true&connect_timeout=10`。
4. 将 `DATABASE_URL` 添加到你的 `.env` 文件中：
   ```text
   DATABASE_URL=postgres://user:passwd@endpoint-pooler.region.aws.neon.build/neondb?pgbouncer=true&connect_timeout=10
   ```
5. 现在你应该能够检查数据库连接并更新架构（运行 `yarn run build-db && yarn run update-db`）。
6. 按照 **入门指南** 中的说明，从 [登录](/docs/login) 步骤开始，并确保更改默认密码。