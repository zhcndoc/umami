---
title: 在 Supabase 上运行
---

[Supabase](https://supabase.com/) 是一个基于 Postgres 数据库的开源 Firebase 替代方案。

## 设置

1. 编辑 `db/postgresql/schema.prisma`，添加 `directUrl = env("DIRECT_DATABASE_URL")`
2. 在 Supabase 上创建一个项目，选择一个靠近您将托管 Umami 项目的区域的名称。
3. 从 **设置 > 数据库** 页面获取数据库连接字符串，然后滚动到底部找到 **连接池** 部分并复制 **连接字符串**。
4. 将 `DATABASE_URL` 和 `DIRECT_DATABASE_URL` 添加到您的 `.env` 文件中：

   ```dotenv
   DATABASE_URL=postgres://[db-user].[project-ref]:[db-password]@aws-0-[aws-region].pooler.supabase.com:6543/[db-name]?pgbouncer=true&connection_limit=1
   DIRECT_DATABASE_URL=postgres://postgres.[my-supabase-project-id]:[db-password]@aws-0-[aws-region].pooler.supabase.com:5432/postgres
   ```

5. 现在您应该能够构建并启动 Umami（首先运行 `npm run build`，然后运行 `npm start`）。
6. 按照 **入门** 指南，从 [登录](/docs/login) 步骤开始，并确保更改默认密码。