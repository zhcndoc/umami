---
title: 在 Supabase 上运行
---

# 在 Supabase 上运行

[Supabase](https://supabase.com/) 是建立在 Postgres 数据库上的开源 Firebase 替代品。

## 设置

1. 编辑 `db/postgresql/schema.prisma`，添加 `directUrl = env("DIRECT_DATABASE_URL")`。
2. 在 Supabase 上创建一个项目，并为其指定一个名称，选择一个离你将要托管 Umami 项目的地区。
3. 从 **Settings > Database** 页面获取数据库连接字符串，然后滚动到 **Connection Pooling** 部分，复制 **Connection string**。
4. 在你的 `.env` 文件中添加 `DATABASE_URL` 和 `DIRECT_DATABASE_URL`：

   ```dotenv
   DATABASE_URL=postgres://[db-user].[project-ref]:[db-password]@aws-0-[aws-region].pooler.supabase.com:6543/[db-name]?pgbouncer=true&connection_limit=1
   DIRECT_DATABASE_URL=postgres://postgres.[my-supabase-project-id]:[db-password]@aws-0-[aws-region].pooler.supabase.com:5432/postgres
   ```

5. 现在你应该能够构建并启动 Umami（执行 `npm run build`，然后执行 `npm start`）。
6. 从 [登录](/docs/login) 步骤开始，遵循**入门指南**并确保更改默认密码。
