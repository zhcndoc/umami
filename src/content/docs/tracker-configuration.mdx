---
title: 追踪器配置
---

Umami 追踪器提供了多个属性，允许您配置其行为。

### data-host-url

默认情况下，Umami 会将数据发送到脚本所在的位置。您可以重写此设置，将数据发送到其他位置。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-host-url="http://stats.mywebsite.com"
></script>
```

### data-auto-track

默认情况下，Umami 会自动跟踪所有页面浏览和事件。您可以禁用此行为，并使用 [tracker functions](/docs/tracker-functions) 自行跟踪事件。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-auto-track="false"
></script>
```

### data-domains

如果您希望追踪器仅在特定域上运行，可以将它们添加到您的追踪器脚本中。这是一个以逗号分隔的域名列表。这对于在暂存/开发环境中工作时很有帮助。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-domains="mywebsite.com,mywebsite2.com"
></script>
```

### data-tag

如果您希望追踪器在特定标签下收集事件。可以通过特定标签在仪表盘中过滤事件。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-tag="umami-eu"
></script>
```

### data-exclude-search

如果您不想从 URL 中收集搜索参数。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-exclude-search="true"
></script>
```

### data-exclude-hash

如果您不想从 URL 中收集哈希值。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-exclude-hash="true"
></script>
```

### data-do-not-track

尊重用户的 [Do Not Track](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/doNotTrack) 浏览器设置。

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-do-not-track="true"
></script>
```

### data-before-send

允许您指定一个函数，该函数将在数据发送之前被调用。然后，您可以检查和修改有效载荷或完全取消发送。该函数将接受两个参数，类型和有效载荷。要继续发送，请返回一个有效载荷对象。要取消发送，返回一个假值。

```javascript
function beforeSendHandler(type, payload) {
  if (checkPayload(payload)) {
    return payload;
  }
  return false;
}
```

```html
<script
  defer
  src="http://mywebsite.com/umami.js"
  data-website-id="94db1cb1-74f4-4a40-ad6c-962362670409"
  data-before-send="beforeSendHandler"
></script>
```